
@{
    ViewData["Stylesheet"] = "/css/manager.css";
    bool trueOrfalse = false;
}
<header>
    <h1 class="align_center">
        <button type="button" class="nav_button" asp-controller="Manager" onclick="location.href='@Url.Action("SetNewDate", "Manager", new {oldDate = @ViewBag.CurrentDate, previousOrNext = "Previous"})'">&#x2039;</button>
        Prognose: @ViewBag.StartDate.ToString("dddd dd MMMM") - @ViewBag.EndDate.ToString("dddd dd MMMM")
        <button class="nav_button" asp-controller="Manager" onclick="location.href='@Url.Action("SetNewDate", "Manager", new {oldDate = @ViewBag.CurrentDate, previousOrNext = "Next"})'">&#x203A;</button>
    </h1>
</header>
<div class="watermark_concept">
    <p class="concept_text">CONCEPT</p>
</div>
<div class="grid4">
     <div>
        <h5>@ViewBag.Days[0].ToString("dd") @ViewBag.Days[0].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[0].ToString("ddd").Substring(1, 1) @ViewBag.Days[0].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[0].ToString("MMMM").Substring(1, @ViewBag.Days[0].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[0].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli" onkeypress="update(this)"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers" onkeypress="update(this)"></p>
                trueOrfalse = true;
                break;
            }
            else{
                trueOrfalse = false;
            }
        }

        @if(trueOrfalse == false){
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }
       
     </div>
    <div>
        <h5>@ViewBag.Days[1].ToString("dd") @ViewBag.Days[1].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[1].ToString("ddd").Substring(1, 1) @ViewBag.Days[1].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[1].ToString("MMMM").Substring(1, @ViewBag.Days[1].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[1].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
    <div>
        <h5>@ViewBag.Days[2].ToString("dd") @ViewBag.Days[2].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[2].ToString("ddd").Substring(1, 1) @ViewBag.Days[2].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[2].ToString("MMMM").Substring(1, @ViewBag.Days[2].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[2].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
    <div>
        <h5>@ViewBag.Days[3].ToString("dd") @ViewBag.Days[3].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[3].ToString("ddd").Substring(1, 1) @ViewBag.Days[3].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[4].ToString("MMMM").Substring(1, @ViewBag.Days[3].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[3].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
</div>
<div class="grid3">
    <div>
        <h5>@ViewBag.Days[4].ToString("dd") @ViewBag.Days[4].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[4].ToString("ddd").Substring(1, 1) @ViewBag.Days[4].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[4].ToString("MMMM").Substring(1, @ViewBag.Days[4].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[4].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
    <div>
        <h5>@ViewBag.Days[5].ToString("dd") @ViewBag.Days[5].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[5].ToString("ddd").Substring(1, 1) @ViewBag.Days[5].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[5].ToString("MMMM").Substring(1, @ViewBag.Days[5].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[5].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
    <div>
        <h5>@ViewBag.Days[6].ToString("dd") @ViewBag.Days[6].ToString("ddd").Substring(0, 1).ToUpper()@ViewBag.Days[6].ToString("ddd").Substring(1, 1) @ViewBag.Days[6].ToString("MMMM").Substring(0, 1).ToUpper()@ViewBag.Days[6].ToString("MMMM").Substring(1, @ViewBag.Days[6].ToString("MMMM").Length -1)</h5><br />
        @foreach (var item in ViewBag.PrognosisData)
        {
            if (item.Date.ToString("dd MM yyyy") == ViewBag.Days[6].ToString("dd MM yyyy"))
            {
                <p>Aantal colli:<input class="prognosis_input" type="number" value="@item.TotalColli"></p>
                <p>Verwachte bezoekers:<input class="prognosis_input" type="number" value="@item.TotalCustomers"></p>
                trueOrfalse = true;
                break;
            }
            else
            {
                trueOrfalse = false;
            }
        }

        @if (trueOrfalse == false)
        {
            <p>Aantal colli:<input class="prognosis_input" type="number" value=""></p>
            <p>Verwachte bezoekers:<input class="prognosis_input" type="number"></p>
        }

    </div>
</div>
<script type="text/javascript">
    function update(ele){
        if(event.key === 'Enter'){
            $.ajax({
                type: "POST",
                url: "@Url.Action("PrognosisUpdate")",
                data: {
                    number: ele.value
                },
                headers: { "RequestVerificationToken": $('input[name="__RequestVerificationToken"]').val() },
                success: function () {
                    alert("We did it")
                },
                error: function () {

                }
            });
        }
    }
</script>
